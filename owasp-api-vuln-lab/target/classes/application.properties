# H2 + JPA
# Disable H2 console in production and use safer DB connection settings.
spring.datasource.url=jdbc:h2:mem:apilab;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=${DB_PASSWORD:strongpassword}
spring.jpa.hibernate.ddl-auto=update
spring.h2.console.enabled=false

# FIX for VULNERABILITY(API8: Weak Authentication)
# Use a strong, random, environment-based JWT secret instead of hardcoding it.
# Prevents attackers from forging or guessing JWT tokens.
# do not hardcode secrets in code
app.jwt.secret=${JWT_SECRET:changeThisToA256BitRandomKey}


# FIX for VULNERABILITY(API8: Long Token Validity)
# Shortened JWT token lifetime to reduce risk of stolen tokens being reused.
# Limits exposure from compromised tokens.
# Fixed (e.g., 15 minutes)
app.jwt.ttl-seconds=900


# FIX for VULNERABILITY(API7: Security Misconfiguration)
# Hide internal error messages and stack traces from clients.
# Prevents attackers from learning sensitive system info.
# Fixed
server.error.include-message=never
server.error.include-stacktrace=never


logging.level.root=INFO
